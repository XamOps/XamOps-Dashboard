<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>
<div th:fragment="sidebar" class="h-full flex flex-col bg-white">
    <!-- Branding Header -->
    <div class="h-16 flex-shrink-0 flex items-center justify-center border-b px-4">
        <span class="text-2xl font-extrabold text-indigo-600 tracking-tight">XamOps</span>
    </div>

    <!-- Account Selector -->
    <div class="p-3 border-b flex-shrink-0">
        <div class="flex items-center justify-between p-2 rounded-lg hover:bg-gray-100 cursor-pointer">
            <div class="flex items-center">
                <div class="w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-white font-bold text-sm mr-3">M</div>
                <span id="accountName" class="text-sm font-semibold text-gray-800">MachaDalo</span>
            </div>
            <i class="fas fa-chevron-down text-gray-400 text-xs"></i>
        </div>
    </div>

    <!-- Navigation Links with Scrolling -->
    <nav class="flex-1 px-2 py-3 space-y-1 text-sm overflow-y-auto sidebar-scroll">
        <a href="/" th:classappend="${#httpServletRequest.getRequestURI() == '/' ? 'bg-indigo-50 text-indigo-600' : 'text-gray-500 hover:bg-gray-100 hover:text-gray-900'}" class="flex items-center gap-3 rounded-md px-3 py-2.5 font-semibold transition-colors duration-150">
            <i class="fas fa-tachometer-alt fa-fw w-5 text-center"></i>
            <span>Dashboard</span>
        </a>
        <a href="#" class="flex items-center gap-3 rounded-md px-3 py-2.5 text-gray-500 hover:bg-gray-100 hover:text-gray-900 font-semibold transition-colors duration-150">
            <i class="fas fa-chart-bar fa-fw w-5 text-center"></i>
            <span>Reports</span>
        </a>
        
        <div x-data="{ open: true }">
            <button @click="open = !open" class="w-full flex items-center justify-between gap-3 rounded-md px-3 py-2.5" th:classappend="${#strings.contains(#httpServletRequest.getRequestURI(), 'cloud') ? 'bg-indigo-50 text-indigo-600' : 'text-gray-500 hover:bg-gray-100'}">
                <div class="flex items-center gap-3"><i class="fas fa-cloud fa-fw w-5 text-center"></i><span class="font-semibold">Cloudview</span></div>
                <i class="fas fa-chevron-down text-xs text-gray-400 transition-transform" :class="open && 'rotate-180'"></i>
            </button>
            <div x-show="open" x-cloak class="pl-7 py-1 space-y-1" x-transition>
                <a href="#" class="block rounded-md px-3 py-2 text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Cloudk8s <span class="text-xs bg-blue-100 text-blue-600 font-semibold px-2 py-0.5 rounded-full ml-2">BETA</span></a>
                <a href="/cloudlist" th:classappend="${#httpServletRequest.getRequestURI() == '/cloudlist' ? 'text-indigo-600 font-bold' : 'text-gray-500'}" class="block rounded-md px-3 py-2 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Cloudlist</a>
                <a href="#" class="block rounded-md px-3 py-2 text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Cloudmap</a>
            </div>
        </div>

        <div x-data="{ open: true }">
            <button @click="open = !open" class="w-full flex items-center justify-between gap-3 rounded-md px-3 py-2.5" th:classappend="${#strings.contains(#httpServletRequest.getRequestURI(), 'waste') ? 'bg-indigo-50 text-indigo-600' : 'text-gray-500 hover:bg-gray-100'}">
                <div class="flex items-center gap-3"><i class="fas fa-cogs fa-fw w-5 text-center"></i><span class="font-semibold">Optimization</span></div>
                <i class="fas fa-chevron-down text-xs transition-transform" :class="open && 'rotate-180'"></i>
            </button>
            <div x-show="open" x-cloak class="pl-7 py-1 space-y-1" x-transition>
                <a href="#" class="block rounded-md px-3 py-2 text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 font-medium">FinOps Report <span class="text-xs bg-blue-100 text-blue-600 font-semibold px-2 py-0.5 rounded-full ml-2">BETA</span></a>
                <a href="#" class="block rounded-md px-3 py-2 text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Costs overview</a>
                <a href="/waste" th:classappend="${#httpServletRequest.getRequestURI() == '/waste' ? 'text-indigo-600 font-bold' : 'text-gray-500'}" class="block rounded-md px-3 py-2 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Waste</a>
                <a href="#" class="block rounded-md px-3 py-2 text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Rightsizing</a>
                <a href="#" class="block rounded-md px-3 py-2 text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Reservation</a>
                <a href="#" class="block rounded-md px-3 py-2 text-gray-500 hover:bg-indigo-50 hover:text-indigo-600 font-medium">Savings</a>
            </div>
        </div>
    </nav>

    <!-- Footer -->
    <div class="p-3 border-t mt-auto flex-shrink-0">
        <a href="#" class="flex items-center gap-3 rounded-lg px-3 py-2 text-gray-600 hover:bg-gray-100 text-sm font-semibold">
            <i class="fas fa-user-circle fa-fw w-5 text-center text-gray-400"></i>
            <span>Account Manager</span>
        </a>
    </div>
</div>
</body>
</html>
